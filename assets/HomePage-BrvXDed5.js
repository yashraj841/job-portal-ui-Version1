import{u as f,r as d,j as e,A as V,a as D,b as z,B as N,c as b,I as G,S as Y,s as C,d as p,t as U,e as $,C as H,f as K,g as v,h as O,i as X,l as _,L as q}from"./index-CcV_CaHl.js";import{C as j,a as y,b as Q}from"./card-C0Pb7sxb.js";import{C as W,S as B,a as E,b as P,c as R,d as u}from"./select-BCNHrZBS.js";import{M as Z}from"./map-pin-BlVo7Syv.js";import{C as ee}from"./clock-CmNLHgED.js";import{U as se}from"./users-CgE0lqtw.js";import{B as ae,a as le}from"./bookmark-DiRZqWJ7.js";function te(){const{user:s}=f(c=>c.user),{savedJobs:a}=f(c=>c.user),[i,n]=d.useState(!1);return e.jsxs("aside",{className:"w-80 p-6 hidden lg:block",children:[e.jsx(j,{className:"mb-2",children:e.jsx(y,{className:"p-0",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative rounded-t-md mb-6",children:[e.jsx("img",{src:"/profile-bg.jpg",alt:"User Background",className:"w-full h-24 object-cover rounded-t-md"}),e.jsxs("div",{className:"absolute inline-block top-1/2 left-1/2 -translate-x-1/2",children:[e.jsxs(V,{className:"w-20 h-20 mx-auto border-[3px] border-white",children:[e.jsx(D,{src:"/user-avatar.png",alt:s.name}),e.jsx(z,{className:"text-lg",children:s.initials})]}),e.jsx("div",{className:"absolute bottom-1 right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:s.title}),e.jsx("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-2",children:s.location})]})]})})}),e.jsx(j,{className:"mb-2",children:e.jsx(y,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Profile Visitors"}),e.jsx("span",{className:"text-primary font-medium",children:s.stats.profileVisitors})]}),e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Resume Viewers"}),e.jsx("span",{className:"text-primary font-medium",children:s.stats.resumeViewers})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"My Jobs"}),e.jsx("span",{className:"text-primary font-medium",children:a.length})]})]})})}),e.jsx(j,{children:e.jsxs(y,{className:"p-4",children:[e.jsxs(N,{variant:"ghost",className:"w-full justify-between p-2",onClick:()=>n(!i),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),e.jsx("span",{className:"text-sm font-semibold",children:"My calendar"})]}),e.jsx(W,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:"mt-2 pl-4",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Upcoming Interviews"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium",children:"Google - UI/UX Designer"}),e.jsx("div",{className:"text-gray-500",children:"Tomorrow, 2:00 PM"})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium",children:"Microsoft - Frontend Dev"}),e.jsx("div",{className:"text-gray-500",children:"Friday, 10:00 AM"})]})]})]})]})})]})}function re(){const[s,a]=d.useState(""),[i,n]=d.useState(""),[c,x]=d.useState(""),[t,o]=d.useTransition(),l=b(),r=()=>{o(()=>{l(C({searchTerm:s,location:i,jobType:c}))})};return e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"relative w-full md:basis-1/2",children:e.jsx(G,{type:"text",placeholder:"Job Title, Company, or Keywords",className:"pl-10 border-0 sm:border-r rounded-none w-full placeholder:-translate-x-7",value:s,onChange:m=>a(m.target.value)})}),e.jsx("div",{className:"w-full md:basis-1/4",children:e.jsxs(B,{value:i,onValueChange:n,children:[e.jsx(E,{className:"rounded-none border-0 sm:border-r w-full",children:e.jsx("div",{className:"flex items-center",children:e.jsx(P,{placeholder:"Select Location"})})}),e.jsxs(R,{children:[e.jsx(u,{value:"seattle",children:"Seattle, USA"}),e.jsx(u,{value:"san-francisco",children:"San Francisco, USA"}),e.jsx(u,{value:"new-york",children:"New York, USA"}),e.jsx(u,{value:"remote",children:"Remote"})]})]})}),e.jsx("div",{className:"w-full md:basis-1/4",children:e.jsxs(B,{value:c,onValueChange:x,children:[e.jsx(E,{className:"rounded-none border-0 w-full",children:e.jsx("div",{className:"flex items-center",children:e.jsx(P,{placeholder:"Job Type"})})}),e.jsxs(R,{children:[e.jsx(u,{value:"full-time",children:"Full Time"}),e.jsx(u,{value:"part-time",children:"Part Time"}),e.jsx(u,{value:"contract",children:"Contract"}),e.jsx(u,{value:"internship",children:"Internship"})]})]})}),e.jsxs(N,{onClick:r,disabled:t,className:"w-full md:w-auto",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),t?"Searching...":"Search"]})]})})}const w=[{id:"frontend",label:"Frontend"},{id:"backend",label:"Backend"},{id:"graphic-designer",label:"Graphic Designer"},{id:"full-stack",label:"Full Stack"},{id:"mobile",label:"Mobile"}];function ie(){const s=b(),a=f(l=>{var r;return((r=l.jobs)==null?void 0:r.activeFilters)??[]}),[i,n]=d.useState(null),[,c]=d.useTransition(),x=d.useRef(""),t=l=>{var m;s(U(l));const r=((m=w.find(g=>g.id===l))==null?void 0:m.label)||"";n(l),c(()=>{s(C({searchTerm:r,location:"",jobType:""})),n(null)})},o=()=>{a.forEach(l=>s(U(l)))};return d.useEffect(()=>{const l=a[a.length-1],r=w.find(m=>m.id===l);r&&r.label!==x.current&&(x.current=r.label,c(()=>{s(C({searchTerm:r.label,location:"",jobType:""}))}))},[a,s]),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 mr-2",children:"Similar:"}),w.map(l=>{const r=a.includes(l.id),m=i===l.id;return e.jsx(p,{variant:r?"default":"secondary",className:"cursor-pointer hover:bg-blue-100 transition-colors rounded-[5px] py-[7px] px-4 border border-gray-400 font-normal text-xs",onClick:()=>t(l.id),children:m?"Searching...":l.label},l.id)}),a.length>0&&e.jsx("button",{onClick:o,className:"ml-4 text-xs text-blue-600 underline hover:text-blue-800 transition-colors",children:"Clear all"})]})}function ne({job:s}){var g,J,k,T,A,F,M,L,I;const a=b(),i=$(),{savedJobs:n,appliedJobs:c}=f(h=>h.user),[x,t]=d.useTransition(),o=n.some(h=>h.id===s.id),l=c.some(h=>h.id===s.id),r=()=>{o?(a(K(s.id)),v.success("Job removed from saved jobs")):(a(O(s)),v.success("Job saved successfully"))},m=()=>{if(l){v.info("You have already applied to this job");return}t(()=>{a(X(s)),v.success("Application submitted successfully")})};return e.jsxs(j,{className:"h-full transition-shadow duration-200 hover:shadow-lg cursor-pointer",children:[e.jsxs(y,{className:"p-4 pb-2",onClick:()=>(s==null?void 0:s.id)&&i(`/jobs/${s.id}`),children:[e.jsx("div",{className:"flex items-center space-x-2",children:(s==null?void 0:s.promoted)&&e.jsx(p,{variant:"secondary",className:"mb-3 text-xs",children:"Promoted"})}),e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(V,{className:"w-8 h-8 rounded-none",children:[e.jsx(D,{src:((g=s==null?void 0:s.company)==null?void 0:g.logo)||"/placeholder.svg",alt:(J=s==null?void 0:s.company)==null?void 0:J.name}),e.jsx(z,{children:((T=(k=s==null?void 0:s.company)==null?void 0:k.name)==null?void 0:T.charAt(0))??"?"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:s==null?void 0:s.title}),e.jsx("p",{className:"text-xs text-gray-600",children:(A=s==null?void 0:s.company)==null?void 0:A.name})]})]})}),e.jsxs("div",{className:"mb-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(Z,{className:"w-3 h-3 mr-1"}),s==null?void 0:s.location," (",s==null?void 0:s.type,")"]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(ee,{className:"w-3 h-3 mr-1"}),s==null?void 0:s.postedAt,e.jsx("span",{className:"mx-2",children:" | "})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),s==null?void 0:s.applicants," applicants"]})]})]}),l&&e.jsx(p,{variant:"default",className:"mb-3 text-xs text-green-800 bg-green-100",children:"Applied"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[(M=(F=s==null?void 0:s.skills)==null?void 0:F.slice(0,3))==null?void 0:M.map(h=>e.jsx(p,{variant:"outline",className:"text-xs",children:h},h)),((L=s==null?void 0:s.skills)==null?void 0:L.length)>3&&e.jsxs(p,{variant:"outline",className:"text-xs",children:["+",((I=s==null?void 0:s.skills)==null?void 0:I.length)-3]})]})]}),e.jsxs(Q,{className:"items-center p-4 pt-0 space-y-2",children:[e.jsx(N,{className:"w-2/3",onClick:m,disabled:x||l,variant:l?"outline":"default",size:"sm",children:l?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Applied"]}):x?"Applying...":"Apply Now"}),e.jsx(N,{variant:"ghost",size:"sm",onClick:r,className:"!mt-0 h-auto p-1 w-1/3 justify-end",children:o?e.jsx(ae,{className:"w-6 h-6 text-blue-600"}):e.jsx(le,{className:"w-6 h-6 text-gray-400"})})]})]})}function ce(){const s=b(),{jobs:a,loading:i}=f(t=>t.jobs);if(d.useEffect(()=>{a.length===0&&s(_())},[s,a.length]),i)return e.jsx("div",{className:"space-y-6",children:[...Array(6)].map((t,o)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},o))});const n=a.filter(t=>t.featured).slice(0,5),c=a.filter(t=>t.recommended).slice(0,5),x=a.filter(t=>!t.featured&&!t.recommended).slice(0,5);return e.jsxs("div",{className:"space-y-8",children:[e.jsx(S,{title:"Featured Jobs",jobs:n,seeMoreText:"See Featured Jobs"}),e.jsx(S,{title:"Recommended Jobs",jobs:c,seeMoreText:"See Recommended Jobs"}),e.jsx(S,{title:"Latest Jobs",jobs:x,seeMoreText:"See Latest Jobs"})]})}function S({title:s,jobs:a,seeMoreText:i}){return e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:s}),e.jsx(N,{variant:"link",className:"text-blue-600 underline py-0 mb-2",children:i})]}),a.length===0?e.jsxs("p",{className:"text-sm text-gray-500",children:["No ",s.toLowerCase()," available."]}):e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",children:a.map(n=>e.jsx(ne,{job:n},n.id))})]})}function fe(){return e.jsxs("div",{className:"flex max-w-7xl mx-auto",children:[e.jsx(te,{}),e.jsxs("main",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"rounded-lg mb-6",children:[e.jsxs("h1",{className:"text-2xl font-semibold mb-2",children:["Find your Dream Job,",e.jsx("span",{className:"text-primary ml-2",children:"Albert!"})]}),e.jsx("p",{className:"mb-6",children:"Explore the latest job openings and apply for the best opportunities available today!"}),e.jsx(re,{})]}),e.jsx(ie,{})]}),e.jsx(d.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(ce,{})})]})]})}export{fe as default};
